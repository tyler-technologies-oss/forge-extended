import { ElementRef } from '@angular/core';
import { AsyncSubject, Subject } from 'rxjs';
export class BottomSheetRef {
    constructor(instance) {
        this._afterClosed = new AsyncSubject();
        this.afterClosed = this._afterClosed.asObservable();
        this._beforeClose = new Subject();
        this.beforeClose = this._beforeClose.asObservable();
        this._elementRef = new ElementRef(instance);
        instance.addEventListener('forge-bottom-sheet-before-close', evt => this._beforeClose.next(evt));
    }
    close(result) {
        this.nativeElement.open = false;
        this._afterClosed.next(result);
        this._afterClosed.complete();
        this._beforeClose.complete();
    }
    get nativeElement() {
        return this._elementRef.nativeElement;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm90dG9tLXNoZWV0LXJlZi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2ZvcmdlLWFuZ3VsYXIvc3JjL2xpYi9ib3R0b20tc2hlZXQvYm90dG9tLXNoZWV0LXJlZi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxZQUFZLEVBQWMsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBR3pELE1BQU0sT0FBTyxjQUFjO0lBV3pCLFlBQVksUUFBK0I7UUFSMUIsaUJBQVksR0FBRyxJQUFJLFlBQVksRUFBdUIsQ0FBQztRQUNqRSxnQkFBVyxHQUFvQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBRXRFLGlCQUFZLEdBQUcsSUFBSSxPQUFPLEVBQXFCLENBQUM7UUFDMUQsZ0JBQVcsR0FBa0MsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUtuRixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDbkcsQ0FBQztJQUVNLEtBQUssQ0FBQyxNQUFnQjtRQUMzQixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7UUFDaEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDdEIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQztJQUN4QyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbGVtZW50UmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBc3luY1N1YmplY3QsIE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElCb3R0b21TaGVldENvbXBvbmVudCB9IGZyb20gJ0B0eWxlcnRlY2gvZm9yZ2UnO1xuXG5leHBvcnQgY2xhc3MgQm90dG9tU2hlZXRSZWY8VENvbXBvbmVudCA9IGFueSwgVFJlc3VsdCA9IGFueT4ge1xuICBwcml2YXRlIHJlYWRvbmx5IF9lbGVtZW50UmVmOiBFbGVtZW50UmVmPElCb3R0b21TaGVldENvbXBvbmVudD47XG5cbiAgcHJpdmF0ZSByZWFkb25seSBfYWZ0ZXJDbG9zZWQgPSBuZXcgQXN5bmNTdWJqZWN0PFRSZXN1bHQgfCB1bmRlZmluZWQ+KCk7XG4gIHB1YmxpYyBhZnRlckNsb3NlZDogT2JzZXJ2YWJsZTxUUmVzdWx0IHwgdW5kZWZpbmVkPiA9IHRoaXMuX2FmdGVyQ2xvc2VkLmFzT2JzZXJ2YWJsZSgpO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgX2JlZm9yZUNsb3NlID0gbmV3IFN1YmplY3Q8Q3VzdG9tRXZlbnQ8dm9pZD4+KCk7XG4gIHB1YmxpYyBiZWZvcmVDbG9zZTogT2JzZXJ2YWJsZTxDdXN0b21FdmVudDx2b2lkPj4gPSB0aGlzLl9iZWZvcmVDbG9zZS5hc09ic2VydmFibGUoKTtcblxuICBwdWJsaWMgY29tcG9uZW50SW5zdGFuY2U6IFRDb21wb25lbnQ7XG5cbiAgY29uc3RydWN0b3IoaW5zdGFuY2U6IElCb3R0b21TaGVldENvbXBvbmVudCkge1xuICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBuZXcgRWxlbWVudFJlZihpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lcignZm9yZ2UtYm90dG9tLXNoZWV0LWJlZm9yZS1jbG9zZScsIGV2dCA9PiB0aGlzLl9iZWZvcmVDbG9zZS5uZXh0KGV2dCkpO1xuICB9XG5cbiAgcHVibGljIGNsb3NlKHJlc3VsdD86IFRSZXN1bHQpOiB2b2lkIHtcbiAgICB0aGlzLm5hdGl2ZUVsZW1lbnQub3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuX2FmdGVyQ2xvc2VkLm5leHQocmVzdWx0KTtcbiAgICB0aGlzLl9hZnRlckNsb3NlZC5jb21wbGV0ZSgpO1xuICAgIHRoaXMuX2JlZm9yZUNsb3NlLmNvbXBsZXRlKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IG5hdGl2ZUVsZW1lbnQoKTogSUJvdHRvbVNoZWV0Q29tcG9uZW50IHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuICB9XG59XG4iXX0=