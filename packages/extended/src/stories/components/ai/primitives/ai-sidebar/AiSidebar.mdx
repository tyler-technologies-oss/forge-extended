import { Meta, Title, Canvas } from '@storybook/addon-docs/blocks';
import CustomArgTypes from '../../../../blocks/CustomArgTypes';
import * as AiSidebarStories from './AiSidebar.stories';

<Meta of={AiSidebarStories} />

<Title>AI Sidebar</Title>

The AI Sidebar component is a container component that provides a drawer-style sidebar interface using Forge CSS-only drawer classes. This component serves as the foundational container for sidebar-based AI interfaces, offering positioning control and backdrop interaction.

## Features

- **Flexible positioning**: Supports both left and right sidebar positions
- **Backdrop interaction**: Clicking the backdrop closes the sidebar
- **CSS-based animations**: Smooth slide-in/slide-out transitions
- **Responsive design**: Adapts to mobile viewports with full-width display
- **Accessibility support**: Proper ARIA attributes for screen readers
- **Event-driven API**: Emits events for open/close state changes

## When to Use

Use the AI Sidebar component when you want:

- A container for sidebar-based content (typically AI chat interfaces)
- Control over sidebar positioning (left or right)
- A foundational component for building custom sidebar compositions
- Direct control over the sidebar behavior without built-in chat interface logic

For a complete sidebar chat solution, consider using the `ai-sidebar-chat` form factor component which combines this container with the chat interface automatically.

## Basic Usage

<Canvas>
  <div style={{ position: 'relative', height: '400px', overflow: 'hidden' }}>
    <forge-ai-sidebar>
      <forge-ai-chat-interface show-minimize-button>
        <forge-ai-user-message>Hello! Can you help me understand how to use TypeScript generics?</forge-ai-user-message>
        <forge-ai-response-message>
          I'd be happy to help you understand TypeScript generics! Generics allow you to create reusable components that
          can work with different types while maintain type safety.
        </forge-ai-response-message>
      </forge-ai-chat-interface>
    </forge-ai-sidebar>
  </div>
</Canvas>

## API

### Properties

<CustomArgTypes />

### Methods

- `show()`: Opens the sidebar
- `close()`: Closes the sidebar
- `toggle()`: Toggles the sidebar open/closed state

### Events

- `forge-ai-sidebar-open`: Fired when the sidebar is opened
- `forge-ai-sidebar-close`: Fired when the sidebar is closed

## Positioning

The sidebar supports two positions:

- **`right`** (default): Sidebar slides in from the right edge
- **`left`**: Sidebar slides in from the left edge

## Responsive Behavior

On mobile viewports (â‰¤768px), the sidebar automatically becomes full-width regardless of positioning, providing an optimal mobile experience.

## Comparison with Form Factor Component

| Approach            | Best For              | Pros                                    | Cons                             |
| ------------------- | --------------------- | --------------------------------------- | -------------------------------- |
| **ai-sidebar**      | Custom compositions   | Maximum flexibility, reusable container | Manual content setup required    |
| **ai-sidebar-chat** | Complete sidebar chat | Easy to use, built-in chat interface    | Less flexible, opinionated setup |

Choose the atomic `ai-sidebar` component when you need a flexible container, or use `ai-sidebar-chat` for a complete solution.
