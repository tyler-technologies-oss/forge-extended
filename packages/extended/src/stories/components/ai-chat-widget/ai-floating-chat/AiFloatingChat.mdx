import { Meta, Title, Canvas } from '@storybook/addon-docs/blocks';
import CustomArgTypes from '../../../blocks/CustomArgTypes';
import * as AiFloatingChatStories from './AiFloatingChat.stories';

<Meta of={AiFloatingChatStories} />

<Title>AI Floating Chat</Title>

The AI Floating Chat component is a structured form factor component that provides a complete floating chat interface with built-in composition of `ai-dialog` and `ai-chat-interface` components. This component handles all the wiring and event management automatically, providing an easy-to-use solution for common floating chat use cases.

## Features

- **Structured composition**: Combines ai-dialog and ai-chat-interface components automatically
- **Built-in event handling**: Manages expand/minimize/open/close events internally
- **Responsive behavior**: Adapts to different viewport sizes automatically
- **Customizable slots**: Supports slotting messages, suggestions, and custom prompt components
- **Rich API**: Provides methods and events for programmatic control

## When to Use

Use the AI Floating Chat component when you want:

- A quick, easy-to-implement floating chat interface
- Standard floating chat behavior without custom positioning logic
- Built-in responsive behavior and event handling
- A component that "just works" out of the box

For more complex compositions or custom containers, consider using the atomic `ai-dialog` and `ai-chat-interface` components directly.

## Basic Usage

<Canvas>
  <div style={{ minHeight: '400px', position: 'relative' }}>
    <forge-ai-floating-chat>
      <forge-ai-user-message>Hello! Can you help me understand how to use TypeScript generics?</forge-ai-user-message>
      <forge-ai-response-message>
        I'd be happy to help you understand TypeScript generics! Generics allow you to create reusable components that
        can work with different types while maintaining type safety.
      </forge-ai-response-message>
    </forge-ai-floating-chat>
  </div>
</Canvas>

## API

### Properties

<CustomArgTypes />

### Methods

- `show()`: Opens the chat
- `close()`: Closes the chat
- `toggle()`: Toggles the chat open/closed state
- `expand()`: Expands the chat to full width
- `collapse()`: Collapses the chat to normal width

### Events

- `forge-ai-floating-chat-open`: Fired when the chat is opened
- `forge-ai-floating-chat-close`: Fired when the chat is closed
- `forge-ai-floating-chat-expand`: Fired when the chat is expanded
- `forge-ai-floating-chat-collapse`: Fired when the chat is collapsed

### Slots

- **Default slot**: For messages (ai-user-message, ai-response-message components)
- **`suggestions`**: For AI suggestions component
- **`prompt`**: For custom AI prompt component (defaults to forge-ai-prompt if not provided)

## Comparison with Atomic Components

| Approach                          | Best For             | Pros                                       | Cons                                 |
| --------------------------------- | -------------------- | ------------------------------------------ | ------------------------------------ |
| **ai-floating-chat**              | Simple floating chat | Easy to use, built-in wiring, "just works" | Less flexible, opinionated structure |
| **ai-dialog + ai-chat-interface** | Custom compositions  | Maximum flexibility, reusable parts        | More setup, manual event wiring      |

Both approaches are valid - choose based on your specific needs and complexity requirements.
