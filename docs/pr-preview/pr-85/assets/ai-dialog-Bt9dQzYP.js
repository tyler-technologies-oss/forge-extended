import{r as I,i as N,x as Y}from"./iframe-BJcB4Mwu.js";import{t as Q}from"./custom-element-BhZVzxrc.js";import{n as A}from"./property-DsQJEtk3.js";import{r as G}from"./state-ihDe8m5F.js";import{n as J}from"./when-3fO0zp9C.js";import{e as C,n as X}from"./ref-DDymIfUC.js";import"./ai-modal-DtMr_jhO.js";class Z{constructor(o,e){this._isDragging=!1,this._currentTransformX=0,this._currentTransformY=0,this._dragOffsetX=0,this._dragOffsetY=0,this.handlePointerDown=n=>{n.preventDefault();const r=this._options.targetElementRef.value,s=this._options.dragHandleRef.value;if(!r||!s)return;s.setPointerCapture(n.pointerId),this._getCurrentTransform(r);const a=r.getBoundingClientRect();this._dragOffsetX=n.clientX-a.left,this._dragOffsetY=n.clientY-a.top,this._isDragging=!0,this._host.requestUpdate(),this._addDragListeners()},this.handleKeyDown=n=>{const r=this._options.keyboardStep;let s=0,a=0;switch(n.key){case"ArrowUp":a=-r;break;case"ArrowDown":a=r;break;case"ArrowLeft":s=-r;break;case"ArrowRight":s=r;break;default:return}n.preventDefault();const u=this._options.targetElementRef.value;if(!u)return;this._getCurrentTransform(u);const b=this._currentTransformX+s,h=this._currentTransformY+a;if(this._options.constrainKeyboardNavigation){const p=this._constrainToViewport(u,b,h);this._currentTransformX=p.x,this._currentTransformY=p.y}else this._currentTransformX=b,this._currentTransformY=h;u.style.transform=`translate(${this._currentTransformX}px, ${this._currentTransformY}px)`},this._handlePointerMove=n=>{if(!this._isDragging)return;n.preventDefault();const r=this._options.targetElementRef.value;if(!r)return;const s=n.clientX-this._dragOffsetX,a=n.clientY-this._dragOffsetY,{originalX:u,originalY:b}=this._getOriginalPosition(r),h=s-u,p=a-b;this._currentTransformX=h,this._currentTransformY=p,r.style.transform=`translate(${h}px, ${p}px)`},this._handlePointerUp=n=>{if(!this._isDragging)return;n.preventDefault();const r=this._options.dragHandleRef.value;r&&r.releasePointerCapture(n.pointerId),this._options.snapToViewport&&this._snapToViewport(),this._isDragging=!1,this._host.requestUpdate(),this._removeDragListeners()},this._host=o,this._options={snapToViewport:!0,constrainKeyboardNavigation:!0,keyboardStep:10,snapAnimationDuration:200,allowOutOfBounds:!0,...e},o.addController(this)}hostConnected(){}hostDisconnected(){this.cleanup()}get isDragging(){return this._isDragging}get currentTransform(){return{x:this._currentTransformX,y:this._currentTransformY}}resetPosition(){const o=this._options.targetElementRef.value;o&&(o.style.transform="",o.style.transition="",this._currentTransformX=0,this._currentTransformY=0,this._dragOffsetX=0,this._dragOffsetY=0)}cleanup(){this._removeDragListeners(),this._isDragging=!1}_snapToViewport(){const o=this._options.targetElementRef.value;if(!o)return;const e=this._constrainToViewport(o,this._currentTransformX,this._currentTransformY);(e.x!==this._currentTransformX||e.y!==this._currentTransformY)&&(this._currentTransformX=e.x,this._currentTransformY=e.y,o.style.transition=`transform ${this._options.snapAnimationDuration}ms cubic-bezier(0.2, 0, 0, 1)`,o.style.transform=`translate(${e.x}px, ${e.y}px)`,setTimeout(()=>{o&&(o.style.transition="")},this._options.snapAnimationDuration))}_constrainToViewport(o,e,n){const r=o.offsetWidth,s=o.offsetHeight,{originalX:a,originalY:u}=this._getOriginalPosition(o),b=window.innerWidth-r-a,h=-a,p=window.innerHeight-s-u,U=-u,q=Math.max(h,Math.min(e,b)),B=Math.max(U,Math.min(n,p));return{x:q,y:B}}_getOriginalPosition(o){const e=o.offsetWidth,n=o.offsetHeight,r=window.getComputedStyle(o),s=parseFloat(r.right)?window.innerWidth-parseFloat(r.right)-e:parseFloat(r.left)||0,a=parseFloat(r.bottom)?window.innerHeight-parseFloat(r.bottom)-n:parseFloat(r.top)||0;return{originalX:s,originalY:a}}_getCurrentTransform(o){const e=o.style.transform;if(this._currentTransformX=0,this._currentTransformY=0,e){const n=e.match(/translate\((-?\d+(?:\.\d+)?)px,\s*(-?\d+(?:\.\d+)?)px\)/);n&&(this._currentTransformX=parseFloat(n[1]),this._currentTransformY=parseFloat(n[2]))}}_addDragListeners(){this._dragAbortController||(this._dragAbortController=new AbortController,document.addEventListener("pointermove",this._handlePointerMove,{signal:this._dragAbortController.signal}),document.addEventListener("pointerup",this._handlePointerUp,{signal:this._dragAbortController.signal}))}_removeDragListeners(){this._dragAbortController&&(this._dragAbortController.abort(),this._dragAbortController=void 0)}}const j=`/**
 * @license
 * Copyright Tyler Technologies, Inc. 
 * License: Apache-2.0
 */.forge-icon-button{--_icon-button-display: var(--forge-icon-button-display, inline-flex);--_icon-button-size: var(--forge-icon-button-size, 48px);--_icon-button-gap: var(--forge-icon-button-gap, 0);--_icon-button-icon-color: var(--forge-icon-button-icon-color, currentColor);--_icon-button-background-color: var(--forge-icon-button-background-color, none);--_icon-button-icon-size: var(--forge-icon-button-icon-size, calc(var(--forge-typography-font-size, 1rem) * 1.5));--_icon-button-cursor: var(--forge-icon-button-cursor, pointer);--_icon-button-padding: var(--forge-icon-button-padding, var(--forge-spacing-xxsmall, 4px));--_icon-button-border: var(--forge-icon-button-border, none);--_icon-button-shadow: var(--forge-icon-button-shadow, none);--_icon-button-transition-duration: var(--forge-icon-button-transition-duration, var(--forge-animation-duration-short3, .15s));--_icon-button-transition-timing: var(--forge-icon-button-transition-timing, var(--forge-animation-easing-standard, cubic-bezier(.2, 0, 0, 1)));--_icon-button-shape: var(--forge-icon-button-shape, calc(var(--forge-shape-full, 9999px) * var(--forge-shape-factor, 1)));--_icon-button-shape-start-start: var(--forge-icon-button-shape-start-start, var(--_icon-button-shape));--_icon-button-shape-start-end: var(--forge-icon-button-shape-start-end, var(--_icon-button-shape));--_icon-button-shape-end-start: var(--forge-icon-button-shape-end-start, var(--_icon-button-shape));--_icon-button-shape-end-end: var(--forge-icon-button-shape-end-end, var(--_icon-button-shape));--_icon-button-shape-squared: var(--forge-icon-button-shape-squared, calc(var(--forge-shape-medium, 4px) * var(--forge-shape-factor, 1)));--_icon-button-outlined-border-width: var(--forge-icon-button-outlined-border-width, 1px);--_icon-button-outlined-border-style: var(--forge-icon-button-outlined-border-style, solid);--_icon-button-outlined-border-color: var(--forge-icon-button-outlined-border-color, var(--_icon-button-icon-color));--_icon-button-tonal-icon-color: var(--forge-icon-button-tonal-icon-color, var(--forge-theme-on-primary-container, #222c62));--_icon-button-tonal-background-color: var(--forge-icon-button-tonal-background-color, var(--forge-theme-primary-container, #d1d5ed));--_icon-button-filled-icon-color: var(--forge-icon-button-filled-icon-color, var(--forge-theme-on-primary, #ffffff));--_icon-button-filled-background-color: var(--forge-icon-button-filled-background-color, var(--forge-theme-primary, #3f51b5));--_icon-button-raised-shadow: var(--forge-icon-button-raised-shadow, 0px 3px 1px -2px rgba(0, 0, 0, .2), 0px 2px 2px 0px rgba(0, 0, 0, .14), 0px 1px 5px 0px rgba(0, 0, 0, .12));--_icon-button-raised-hover-shadow: var(--forge-icon-button-raised-hover-shadow, 0px 2px 4px -1px rgba(0, 0, 0, .2), 0px 4px 5px 0px rgba(0, 0, 0, .14), 0px 1px 10px 0px rgba(0, 0, 0, .12));--_icon-button-raised-active-shadow: var(--forge-icon-button-raised-active-shadow, 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12));--_icon-button-raised-disabled-shadow: var(--forge-icon-button-raised-disabled-shadow, none);--_icon-button-density-small-size: var(--forge-icon-button-density-small-size, 24px);--_icon-button-density-small-padding: var(--forge-icon-button-density-small-padding, var(--forge-spacing-xxxsmall, 2px));--_icon-button-density-small-icon-size: var(--forge-icon-button-density-small-icon-size, calc(var(--forge-typography-font-size, 1rem) * 1.125));--_icon-button-density-medium-size: var(--forge-icon-button-density-medium-size, 36px);--_icon-button-density-medium-padding: var(--forge-icon-button-density-medium-padding, var(--forge-spacing-xxsmall, 4px));--_icon-button-density-large-size: var(--forge-icon-button-density-large-size, var(--_icon-button-size));--_icon-button-toggle-on-background-color: var(--forge-icon-button-toggle-on-background-color, var(--forge-theme-primary-container, #d1d5ed));--_icon-button-toggle-on-icon-color: var(--forge-icon-button-toggle-on-icon-color, var(--forge-theme-primary, #3f51b5));--_icon-button-outlined-toggle-on-background-color: var(--forge-icon-button-outlined-toggle-on-background-color, var(--forge-theme-primary-container, #d1d5ed));--_icon-button-outlined-toggle-on-icon-color: var(--forge-icon-button-outlined-toggle-on-icon-color, var(--forge-theme-primary, #3f51b5));--_icon-button-tonal-toggle-background-color: var(--forge-icon-button-tonal-toggle-background-color, var(--forge-theme-surface-container-low, #ebebeb));--_icon-button-tonal-toggle-on-background-color: var(--forge-icon-button-tonal-toggle-on-background-color, var(--forge-theme-primary-container, #d1d5ed));--_icon-button-tonal-toggle-on-icon-color: var(--forge-icon-button-tonal-toggle-on-icon-color, var(--forge-theme-primary, #3f51b5));--_icon-button-filled-toggle-background-color: var(--forge-icon-button-filled-toggle-background-color, var(--forge-theme-surface-container-low, #ebebeb));--_icon-button-filled-toggle-icon-color: var(--forge-icon-button-filled-toggle-icon-color, var(--forge-theme-primary, #3f51b5));--_icon-button-filled-toggle-on-background-color: var(--forge-icon-button-filled-toggle-on-background-color, var(--forge-theme-primary, #3f51b5));--_icon-button-filled-toggle-on-icon-color: var(--forge-icon-button-filled-toggle-on-icon-color, var(--forge-theme-on-primary, #ffffff));--_icon-button-disabled-cursor: var(--forge-icon-button-disabled-cursor, not-allowed);--_icon-button-disabled-opacity: var(--forge-icon-button-disabled-opacity, .38);--_icon-button-popover-icon-padding: var(--forge-icon-button-popover-icon-padding, var(--forge-spacing-xsmall, 8px));--_icon-button-focus-indicator-color: var(--forge-icon-button-focus-indicator-color, var(--forge-theme-primary, #3f51b5))}.forge-icon-button{outline:none;-webkit-tap-highlight-color:transparent;position:relative;z-index:0;display:var(--_icon-button-display);align-items:center;justify-content:center;gap:var(--_icon-button-gap);box-sizing:border-box;height:var(--_icon-button-density-large-size);min-width:var(--_icon-button-density-large-size);border:var(--_icon-button-border);border-start-start-radius:var(--_icon-button-shape-start-start);border-start-end-radius:var(--_icon-button-shape-start-end);border-end-start-radius:var(--_icon-button-shape-end-start);border-end-end-radius:var(--_icon-button-shape-end-end);padding:var(--_icon-button-padding);box-shadow:var(--_icon-button-shadow);color:var(--_icon-button-icon-color);background:var(--_icon-button-background-color);font-size:var(--_icon-button-icon-size);cursor:var(--_icon-button-cursor);-webkit-user-select:none;user-select:none;transition-property:box-shadow,background;transition-duration:var(--_icon-button-transition-duration);transition-timing-function:var(--_icon-button-transition-timing)}.forge-icon-button img,.forge-icon-button svg{height:var(--_icon-button-icon-size);width:var(--_icon-button-icon-size)}.forge-icon-button svg{fill:currentColor}.forge-icon-button:not(:disabled){--_state-layer-display: var(--forge-state-layer-display, flex);--_state-layer-color: var(--forge-state-layer-color, var(--forge-theme-on-surface, #000000));--_state-layer-hover-color: var(--forge-state-layer-hover-color, var(--_state-layer-color));--_state-layer-hover-opacity: var(--forge-state-layer-hover-opacity, .08);--_state-layer-pressed-color: var(--forge-state-layer-pressed-color, var(--_state-layer-color));--_state-layer-pressed-opacity: var(--forge-state-layer-pressed-opacity, .12);--_state-layer-hover-duration: var(--forge-state-layer-hover-duration, 15ms);--_state-layer-pressed-duration: var(--forge-state-layer-pressed-duration, 105ms);--_state-layer-animation-duration: var(--forge-state-layer-animation-duration, 375ms);--forge-state-layer-color: var(--_icon-button-icon-color);outline:none;--forge-focus-indicator-color: var(--_icon-button-focus-indicator-color);--forge-focus-indicator-shape: var(--_icon-button-shape)}.forge-icon-button:not(:disabled):before{position:absolute;background-color:var(--_state-layer-hover-color);inset:0;transition:opacity var(--_state-layer-hover-duration) linear,background-color var(--_state-layer-hover-duration) linear;--_state-layer-hover-duration: var(--forge-state-layer-hover-duration, .1s);content:"";opacity:0;border-radius:inherit}.forge-icon-button:not(:disabled):hover:before{background-color:var(--_state-layer-hover-color);opacity:var(--_state-layer-hover-opacity)}.forge-icon-button:not(:disabled):active:before{opacity:var(--_state-layer-pressed-opacity);transition-duration:var(--_state-layer-pressed-duration);--_state-layer-pressed-opacity: var(--forge-state-layer-pressed-opacity, .18)}@keyframes forge-focus-indicator-outward-grow{0%{outline-width:0}to{outline-width:var(--_focus-indicator-active-width)}}@keyframes forge-focus-indicator-outward-shrink{0%{outline-width:var(--_focus-indicator-active-width)}}@keyframes forge-focus-indicator-inward-grow{0%{border-width:0}to{border-width:var(--_focus-indicator-active-width)}}@keyframes forge-focus-indicator-inward-shrink{0%{border-width:var(--_focus-indicator-active-width)}}.forge-icon-button:not(:disabled):focus-visible:after{--_focus-indicator-display: var(--forge-focus-indicator-display, flex);--_focus-indicator-width: var(--forge-focus-indicator-width, var(--forge-border-medium, 2px));--_focus-indicator-active-width: var(--forge-focus-indicator-active-width, 6px);--_focus-indicator-color: var(--forge-focus-indicator-color, var(--forge-theme-primary, #3f51b5));--_focus-indicator-shape: var(--forge-focus-indicator-shape, calc(var(--forge-shape-extra-small, 1px) * var(--forge-shape-factor, 1)));--_focus-indicator-duration: var(--forge-focus-indicator-duration, var(--forge-animation-duration-long4, .6s));--_focus-indicator-easing: var(--forge-focus-indicator-easing, var(--forge-animation-easing-emphasized, cubic-bezier(.2, 0, 0, 1)));--_focus-indicator-shape-start-start: var(--forge-focus-indicator-shape-start-start, var(--_focus-indicator-shape));--_focus-indicator-shape-start-end: var(--forge-focus-indicator-shape-start-end, var(--_focus-indicator-shape));--_focus-indicator-shape-end-end: var(--forge-focus-indicator-shape-end-end, var(--_focus-indicator-shape));--_focus-indicator-shape-end-start: var(--forge-focus-indicator-shape-end-start, var(--_focus-indicator-shape));--_focus-indicator-outward-offset: var(--forge-focus-indicator-outward-offset, var(--forge-spacing-xxsmall, 4px));--_focus-indicator-inward-offset: var(--forge-focus-indicator-inward-offset, 0px);--_focus-indicator-offset-block: var(--forge-focus-indicator-offset-block, 0);--_focus-indicator-offset-inline: var(--forge-focus-indicator-offset-inline, 0)}.forge-icon-button:not(:disabled):focus-visible:after{animation-delay:0s,calc(var(--_focus-indicator-duration) * .25);animation-duration:calc(var(--_focus-indicator-duration) * .25),calc(var(--_focus-indicator-duration) * .75);animation-timing-function:var(--_focus-indicator-easing);box-sizing:border-box;color:var(--_focus-indicator-color);display:none;pointer-events:none;position:absolute;margin-block:var(--_focus-indicator-offset-block);margin-inline:var(--_focus-indicator-offset-inline);animation-name:forge-focus-indicator-outward-grow,forge-focus-indicator-outward-shrink;border-end-end-radius:calc(var(--_focus-indicator-shape-end-end) + var(--_focus-indicator-outward-offset));border-end-start-radius:calc(var(--_focus-indicator-shape-end-start) + var(--_focus-indicator-outward-offset));border-start-end-radius:calc(var(--_focus-indicator-shape-start-end) + var(--_focus-indicator-outward-offset));border-start-start-radius:calc(var(--_focus-indicator-shape-start-start) + var(--_focus-indicator-outward-offset));inset:calc(-1 * var(--_focus-indicator-outward-offset));outline:var(--_focus-indicator-width) solid currentColor;content:"";display:block}.forge-icon-button:not(:disabled):where(.forge-icon-button--text,:not(:where(.forge-icon-button--outlined,.forge-icon-button--tonal,.forge-icon-button--filled,.forge-icon-button--raised))){--forge-focus-indicator-outward-offset: 0px}.forge-icon-button--outlined{border-width:var(--_icon-button-outlined-border-width);border-style:var(--_icon-button-outlined-border-style);border-color:var(--_icon-button-outlined-border-color)}.forge-icon-button--tonal{--_icon-button-icon-color: var(--_icon-button-tonal-icon-color);--_icon-button-background-color: var(--_icon-button-tonal-background-color)}.forge-icon-button--filled,.forge-icon-button--raised{--_icon-button-icon-color: var(--_icon-button-filled-icon-color);--_icon-button-background-color: var(--_icon-button-filled-background-color)}.forge-icon-button--raised{--_icon-button-shadow: var(--_icon-button-raised-shadow)}.forge-icon-button--raised:hover{--_icon-button-raised-shadow: var(--_icon-button-raised-hover-shadow)}.forge-icon-button--raised:active{--_icon-button-raised-shadow: var(--_icon-button-raised-active-shadow)}.forge-icon-button--squared{--_icon-button-shape: var(--_icon-button-shape-squared)}.forge-icon-button--small{--_icon-button-size: var(--_icon-button-density-small-size);--_icon-button-icon-size: var(--_icon-button-density-small-icon-size);--_icon-button-padding: var(--_icon-button-density-small-padding)}.forge-icon-button--small>*{font-size:var(--_icon-button-density-small-icon-size)}.forge-icon-button--medium{--_icon-button-size: var(--_icon-button-density-medium-size);--_icon-button-padding: var(--_icon-button-density-medium-padding)}.forge-icon-button:disabled{pointer-events:none;opacity:var(--_icon-button-disabled-opacity);pointer-events:auto;cursor:not-allowed}.forge-icon-button forge-circular-progress{--forge-circular-progress-indicator-color: var(--_icon-button-icon-color);--forge-circular-progress-track-color: transparent;--forge-circular-progress-size: 1em}.ai-icon-button>svg{fill:var(--forge-theme-text-medium, rgba(0, 0, 0, .6))}:host{display:contents}forge-ai-chat-interface{flex-grow:1}.ai-dialog{position:relative;overflow:hidden;box-sizing:border-box;background:var(--forge-theme-surface-bright, #ffffff);border-radius:calc(var(--forge-shape-large, 8px) * var(--forge-shape-factor, 1));box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;border:none;width:420px;height:calc(100vh - 72px);padding:0;inset:auto;bottom:var(--forge-spacing-medium, 16px);right:var(--forge-spacing-medium, 16px);animation-duration:.15s;animation-timing-function:cubic-bezier(0,0,0,1);animation-name:fadein,zoomin;transform-origin:right bottom}@keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes zoomin{0%{transform:scale(.8)}to{transform:scale(1)}}.drag-handle{position:absolute;top:var(--forge-spacing-xxsmall, 4px);left:50%;transform:translate(-50%);z-index:10;opacity:0;visibility:hidden;transition:opacity .15s ease,visibility .15s ease;cursor:grab}.drag-handle:active{cursor:grabbing}.ai-dialog:hover .drag-handle,.ai-dialog:focus-within .drag-handle{opacity:1;visibility:visible}.ai-dialog.dragging{opacity:.7;transition:none}`;var oo=Object.defineProperty,to=Object.getOwnPropertyDescriptor,O=t=>{throw TypeError(t)},x=(t,o,e,n)=>{for(var r=n>1?void 0:n?to(o,e):o,s=t.length-1,a;s>=0;s--)(a=t[s])&&(r=(n?a(o,e,r):a(r))||r);return n&&r&&oo(o,e,r),r},M=(t,o,e)=>o.has(t)||O("Cannot "+e),i=(t,o,e)=>(M(t,o,"read from private field"),e?e.call(t):o.get(t)),l=(t,o,e)=>o.has(t)?O("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(t):o.set(t,e),k=(t,o,e,n)=>(M(t,o,"write to private field"),o.set(t,e),e),d=(t,o,e)=>(M(t,o,"access private method"),e),v,w,T,z,g,f,D,c,$,W,P,H,R,m,L,S,K,E,y,F;const V=768,ro="forge-ai-dialog";let _=class extends N{constructor(){super(...arguments),l(this,c),this.open=!1,this.expanded=!1,this._isFullscreen=window.innerWidth<=V,l(this,v),l(this,w,C()),l(this,T,C()),l(this,z,C()),l(this,g),l(this,f),l(this,D,Y`<slot></slot>`),l(this,m,t=>{const o=this._isFullscreen;if(this._isFullscreen=t.matches,o!==this._isFullscreen){const r=new CustomEvent("forge-ai-dialog-fullscreen-change",{bubbles:!0,composed:!0,detail:{isFullscreen:this._isFullscreen}});this.dispatchEvent(r)}const e=o||this.expanded,n=this._isFullscreen||this.expanded;e!==n&&this.open&&this.requestUpdate()}),l(this,F,t=>{t.key==="Escape"&&(t.preventDefault(),this.close())})}get isFullscreen(){return this._isFullscreen}connectedCallback(){super.connectedCallback(),d(this,c,P).call(this),d(this,c,H).call(this)}disconnectedCallback(){super.disconnectedCallback(),d(this,c,R).call(this),d(this,c,y).call(this)}updated(t){super.updated(t),(t.has("open")||t.has("expanded")||t.has("_isFullscreen"))&&(t.has("open")&&!this.open?i(this,f)?.resetPosition():(t.has("expanded")||t.has("_isFullscreen"))&&(this._isFullscreen||this.expanded)&&i(this,f)?.resetPosition(),d(this,c,L).call(this))}render(){const t=this._isFullscreen||this.expanded;return J(t,()=>i(this,c,W),()=>i(this,c,$))}show(){this.open=!0}close(){this.expanded&&(this.expanded=!1),this.open=!1,i(this,f)?.resetPosition();const t=new CustomEvent("forge-ai-dialog-close",{bubbles:!0,composed:!0});this.dispatchEvent(t)}toggle(){this.open?this.close():this.show()}};v=new WeakMap;w=new WeakMap;T=new WeakMap;z=new WeakMap;g=new WeakMap;f=new WeakMap;D=new WeakMap;c=new WeakSet;$=function(){return Y`
      <dialog
        ${X(i(this,w))}
        aria-modal="false"
        aria-labelledby="dialog-title"
        popover="manual"
        class="ai-dialog ${i(this,f)?.isDragging?"dragging":""}"
        @toggle=${d(this,c,S)}>
        <button
          ${X(i(this,z))}
          id="drag-handle"
          aria-label="Move dialog"
          class="forge-icon-button forge-icon-button--small ai-icon-button drag-handle"
          tabindex="0"
          @pointerdown=${i(this,f)?.handlePointerDown}
          @keydown=${i(this,f)?.handleKeyDown}>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path fill="none" d="M0 0h24v24H0z" />
            <path d="M20 9H4v2h16zM4 15h16v-2H4z" />
          </svg>
        </button>
        ${i(this,D)}
      </dialog>
    `};W=function(){return Y`
      <forge-ai-modal ${X(i(this,T))} @forge-ai-modal-close=${d(this,c,K)}>
        ${i(this,D)}
      </forge-ai-modal>
    `};P=function(){k(this,v,window.matchMedia(`(max-width: ${V}px)`)),i(this,v).addEventListener("change",i(this,m)),i(this,m).call(this,i(this,v))};H=function(){k(this,f,new Z(this,{targetElementRef:i(this,w),dragHandleRef:i(this,z),snapToViewport:!0,constrainKeyboardNavigation:!0,keyboardStep:10,snapAnimationDuration:200,allowOutOfBounds:!0}))};R=function(){i(this,v)?.removeEventListener("change",i(this,m))};m=new WeakMap;L=function(){if(this._isFullscreen||this.expanded){d(this,c,y).call(this);const o=i(this,T).value;o&&(this.open?o.open||o.show():o.open&&o.close())}else{const o=i(this,w).value;o&&(this.open?(d(this,c,E).call(this),o.showPopover()):(d(this,c,y).call(this),o.hidePopover()))}};S=function(t){const o=this.open;this.open=t.newState==="open",this.open&&!o?d(this,c,E).call(this):!this.open&&o&&d(this,c,y).call(this)};K=function(){this.close()};E=function(){i(this,g)||(k(this,g,new AbortController),document.addEventListener("keydown",i(this,F),{signal:i(this,g).signal}))};y=function(){i(this,g)&&(i(this,g).abort(),k(this,g,void 0))};F=new WeakMap;_.styles=I(j);x([A({type:Boolean})],_.prototype,"open",2);x([A({type:Boolean})],_.prototype,"expanded",2);x([G()],_.prototype,"_isFullscreen",2);_=x([Q(ro)],_);
