import{f as U,g as W,B as $,_ as n,h as r,e as z,c as G}from"./base-adapter-Bysb_IZd.js";import{c as w}from"./iframe-DSIgYrvx.js";import{f as X,s as j,h as K,b as q,c as J,o as Q,a as Z}from"./floating-ui.dom-D-Vy2gwa.js";import{d as x,l as V,c as tt}from"./utils-Bn45QkHx.js";import{C as et,E as st,w as O}from"./icon-registry-CIidBo0T.js";/**
 * @license
 * Copyright Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class P{constructor(t,i,e=0,o=0){this.x=t,this.y=i,this.height=e,this.width=o}getBoundingClientRect(){return{x:this.x,y:this.y,top:this.y,left:this.x,bottom:this.y,right:this.x,width:this.height,height:this.width,toJSON(){}}}static fromElement(t){const i=t.getBoundingClientRect();return new P(i.left,i.top,i.height,i.width)}static fromEvent(t){if(t instanceof MouseEvent)return new P(t.clientX,t.clientY);if(t instanceof TouchEvent)return new P(t.touches[0].clientX,t.touches[0].clientY);throw new Error("Unsupported event type")}}async function it({element:h,anchorElement:t,placement:i="bottom",offset:e=!1,offsetOptions:o,strategy:l="fixed",apply:f=!0,flip:c=!0,flipOptions:u,shift:g=!0,shiftOptions:v,hide:L=!1,hideOptions:m,arrowElement:d,arrowOptions:y={}}){const _=[];e&&_.push(Q(o)),c&&_.push(X(u)),g&&_.push(j(v)),L&&_.push(K(m)),d&&_.push(q({...y,element:d}));const{x:A,y:C,placement:I,middlewareData:E}=await J(t,h,{strategy:l,placement:i,middleware:_});if(f){const D={left:"0",top:"0",translate:`${x(A)}px ${x(C)}px`};Object.assign(h.style,D),E.hide?.referenceHidden?h.style.visibility="hidden":h.style.removeProperty("visibility")}return{x:A,y:C,hidden:E.hide?.referenceHidden??!1,placement:I,arrow:E.arrow}}/**
 * @license
 * Copyright Tyler Technologies, Inc. 
 * License: Apache-2.0
 */const N=`${et}overlay`,H={ANCHOR:"anchor",NO_ANCHOR:"no-anchor",OPEN:"open",INLINE:"inline",PLACEMENT:"placement",POSITION_STRATEGY:"position-strategy",HIDE:"hide",PERSISTENT:"persistent",SHIFT:"shift",FLIP:"flip",BOUNDARY:"boundary",FALLBACK_PLACEMENTS:"fallback-placements"},ot={...H,POSITION_PLACEMENT:"position-placement",CLIPPED_X:"clipped-x",CLIPPED_Y:"clipped-y"},nt={OVERLAY:"forge-overlay"},rt={ROOT:`.${nt.OVERLAY}`},at={LIGHT_DISMISS:`${N}-light-dismiss`,DESCENDANT_TEST:`${N}-descendant-test`},ht={HIDE:"anchor-hidden",FLIP:"auto",SHIFT:"auto"},s={elementName:N,observedAttributes:H,attributes:ot,selectors:rt,events:at,defaults:ht},T=st(),b=Symbol("overlayStack");/**
 * @license
 * Copyright Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class lt extends U{constructor(t){super(t),this._lightDismissController=new AbortController,this._rootElement=W(t,s.selectors.ROOT)}async show(){!this._component.inline&&T?(this._rootElement.popover="manual",this._rootElement.showPopover()):this._rootElement.removeAttribute("popover"),p[b].add(this._component)}hide(){this.tryCleanupAutoUpdate(),T&&this._rootElement.matches(":popover-open")&&(this._rootElement.hidePopover(),this._rootElement.removeAttribute("popover")),this._rootElement.style.removeProperty("top"),this._rootElement.style.removeProperty("left"),this._rootElement.style.removeProperty("translate"),this._rootElement.style.removeProperty("display"),this._component.arrowElement?.removeAttribute("style"),this._component.removeAttribute(s.attributes.POSITION_PLACEMENT),this._component.removeAttribute(s.attributes.CLIPPED_X),this._component.removeAttribute(s.attributes.CLIPPED_Y),p[b].delete(this._component)}tryHideDescendantOverlays(){this._findDescendantOverlays().filter(i=>!i.persistent).forEach(i=>i.open=!1)}locateAnchorElement(t){return V(this._component,t)}positionElement({anchorElement:t,strategy:i,placement:e,hide:o,offset:l,shift:f,flip:c,boundary:u,boundaryElement:g,fallbackPlacements:v}){this.tryCleanupAutoUpdate();const L={...l},m=(g||(u?this._component.closest(`#${u}`):null))??"clippingAncestors";this._autoUpdateCleanup=Z(t,this._rootElement,async()=>{const d={...L};if(this._component.arrowElement){const S=this._component.arrowElementOffset||Math.sqrt(2*this._component.arrowElement.offsetWidth**2)/2;d.mainAxis==null&&(d.mainAxis=0),d.mainAxis+=S}const y=await it({element:this._rootElement,anchorElement:t,strategy:i,placement:e,hide:o!=="never",shift:f!=="never",shiftOptions:{boundary:m},flip:c!=="never",flipOptions:{boundary:m,fallbackPlacements:v,crossAxis:c==="cross"||c==="auto",mainAxis:c==="main"||c==="auto"},arrowElement:this._component.arrowElement,offset:!!d,offsetOptions:d}),_=y.placement.split("-")[0],A={top:"bottom",right:"left",bottom:"top",left:"right"}[_];if(A&&this._component.setAttribute(s.attributes.POSITION_PLACEMENT,y.placement),this._component.arrowElement&&y.arrow){const{x:S,y:k}=y.arrow,B=this._component.arrowElement.offsetWidth,{borderWidth:F="0"}=getComputedStyle(this._component.arrowElement),Y=parseFloat(F);Object.assign(this._component.arrowElement.style,{top:k!=null?`${k}px`:"",left:S!=null?`${S}px`:"",right:"",bottom:"",[A]:`${-B/2-Y}px`})}const C=Math.max(document.documentElement.clientWidth,window.innerWidth),I=Math.max(document.documentElement.clientHeight,window.innerHeight),E=this._rootElement.getBoundingClientRect(),D=E.right>C,M=E.bottom>I;D&&this._component.setAttribute(s.attributes.CLIPPED_X,""),M&&this._component.setAttribute(s.attributes.CLIPPED_Y,"")})}tryCleanupAutoUpdate(){this._autoUpdateCleanup?.(),this._autoUpdateCleanup=void 0}isMostRecentOpenOverlay(){return Array.from(p[b]).at(-1)===this._component}addLightDismissListener(t){this.removeLightDismissListener();const i=o=>{o.key==="Escape"&&this.isMostRecentOpenOverlay()&&(o.preventDefault(),o.stopPropagation(),t("escape"))};this._component.ownerDocument.addEventListener("keydown",i,{signal:this._lightDismissController.signal});const e=o=>{const l=o.composedPath(),f=Array.from(p[b]),c=f.indexOf(this._component),u=l.some(m=>m instanceof p&&f.indexOf(m)>c),g=o.button===2;if(u||g)return;const v=this._component.anchorElement instanceof P?!1:this._component.anchorElement&&l.includes(this._component.anchorElement),L=l.includes(this._rootElement);!v&&!L&&t("click")};this._component.ownerDocument.addEventListener("pointerup",e,{capture:!0,signal:this._lightDismissController.signal})}removeLightDismissListener(){this._lightDismissController.abort(),this._lightDismissController=new AbortController}_findDescendantOverlays(){const t=Array.from(p[b]),i=t.slice(t.indexOf(this._component)+1).reverse(),e=[];if(i.length){const o=l=>e.push(l.target);this._component.addEventListener(s.events.DESCENDANT_TEST,o),i.forEach(l=>l.dispatchEvent(new CustomEvent(s.events.DESCENDANT_TEST,{bubbles:!0,composed:!0}))),this._component.removeEventListener(s.events.DESCENDANT_TEST,o)}return e}}/**
 * @license
 * Copyright Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class pt{constructor(t){this._adapter=t}initialize(){}}/**
 * @license
 * Copyright Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class ct extends pt{constructor(t){super(t),this._noAnchor=!1,this._open=!1,this._inline=!1,this._placement="bottom",this._positionStrategy="fixed",this._offset={},this._shift=s.defaults.SHIFT,this._hide=s.defaults.HIDE,this._flip=s.defaults.FLIP,this._fallbackPlacements=null,this._persistent=!1,this._arrowElementOffset=0,this._lightDismissListener=this._onLightDismiss.bind(this)}initialize(){this._adapter.tryApplyGlobalConfiguration(["placement","positionStrategy","shift","hide","flip","boundaryElement","fallbackPlacements","persistent"]),!this._noAnchor&&!this._anchorElement&&this._anchor&&(this._anchorElement=this._adapter.locateAnchorElement(this._anchor)),T||(this.inline=!0),this._adapter.hasHostAttribute(s.attributes.OPEN)&&this._applyOpen(!0)}destroy(){this._open&&this._hideOverlay()}position(){!this._open||this._noAnchor||!this._anchorElement||this._adapter.positionElement({anchorElement:this._anchorElement,strategy:this._positionStrategy,placement:this._placement,hide:this._hide,offset:this._offset,shift:this._shift,flip:this._flip,boundary:this._boundary,boundaryElement:this._boundaryElement,fallbackPlacements:this._fallbackPlacements??void 0})}_onLightDismiss(t){const i={reason:t},e=new CustomEvent(s.events.LIGHT_DISMISS,{bubbles:!1,cancelable:!0,detail:i});this._adapter.dispatchHostEvent(e),!e.defaultPrevented&&this._applyOpen(!1)}_applyOpen(t){this._adapter.isConnected&&(this._open=t,this._open?this._showOverlay():this._hideOverlay(),this._adapter.toggleHostAttribute(s.attributes.OPEN,this._open))}_showOverlay(){this._adapter.show(),this._persistent||this._applyLightDismissListener(),!this._noAnchor&&this._anchorElement&&this.position()}_hideOverlay(){this._adapter.tryHideDescendantOverlays(),this._adapter.hide(),this._adapter.removeLightDismissListener()}_applyLightDismissListener(){this._adapter.addLightDismissListener(this._lightDismissListener)}get anchorElement(){return this._anchorElement}set anchorElement(t){this._anchorElement=t,this._open&&this.position()}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this._adapter.isConnected&&(this._anchorElement=this._anchor?this._adapter.locateAnchorElement(this._anchor):null),this._adapter.toggleHostAttribute(s.attributes.ANCHOR,!!this._anchor,this._anchor))}get noAnchor(){return this._noAnchor}set noAnchor(t){t=!!t,this._noAnchor!==t&&(this._noAnchor=t,this._adapter.toggleHostAttribute(s.attributes.NO_ANCHOR,this._noAnchor))}get open(){return this._open}set open(t){t=!!t,this._open!==t&&this._applyOpen(t)}get arrowElement(){return this._arrowElement}set arrowElement(t){this._arrowElement=t,this._open&&this.position()}get arrowElementOffset(){return this._arrowElementOffset}set arrowElementOffset(t){this._arrowElementOffset=t,this._open&&this.position()}get inline(){return this._inline}set inline(t){t=T?!!t:!0,this._inline!==t&&(this._inline=t,this._adapter.toggleHostAttribute(s.attributes.INLINE,this._inline))}get placement(){return this._placement}set placement(t){this._placement!==t&&(this._placement=t,this._open&&this.position(),this._adapter.setHostAttribute(s.attributes.PLACEMENT,this._placement))}get positionStrategy(){return this._positionStrategy}set positionStrategy(t){this._positionStrategy!==t&&(this._positionStrategy=t,this._open&&this.position(),this._adapter.setHostAttribute(s.attributes.POSITION_STRATEGY,this._positionStrategy))}get offset(){return this._offset}set offset(t){this._offset=t,this._open&&this.position()}get shift(){return this._shift}set shift(t){t===!0?t="auto":t===!1?t="never":["auto","never"].includes(t)||(t=s.defaults.SHIFT),this._shift!==t&&(this._shift=t,this._open&&this.position(),this._adapter.setHostAttribute(s.attributes.SHIFT,this._shift))}get hide(){return this._hide}set hide(t){this._hide!==t&&(this._hide=t??s.defaults.HIDE,this._open&&this.position(),this._adapter.toggleHostAttribute(s.attributes.HIDE,this._hide!==s.defaults.HIDE,String(this._hide)))}get persistent(){return this._persistent}set persistent(t){t=!!t,this._persistent!==t&&(this._persistent=t,this._persistent?this._adapter.removeLightDismissListener():this._open&&this._applyLightDismissListener(),this._adapter.toggleHostAttribute(s.attributes.PERSISTENT,this._persistent))}get flip(){return this._flip}set flip(t){this._flip!==t&&(this._flip=t??s.defaults.FLIP,this._open&&this.position(),this._adapter.toggleHostAttribute(s.attributes.FLIP,this._flip!==s.defaults.FLIP,String(this._flip)))}get boundary(){return this._boundary}set boundary(t){this._boundary!==t&&(this._boundary=t,this._open&&this.position(),this._adapter.toggleHostAttribute(s.attributes.BOUNDARY,!!this._boundary,this._boundary))}get boundaryElement(){return this._boundaryElement}set boundaryElement(t){this._boundaryElement=t,this._open&&this.position()}get fallbackPlacements(){return this._fallbackPlacements}set fallbackPlacements(t){this._fallbackPlacements=t,this._open&&this.position()}}/**
 * @license
 * Copyright Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class a extends ${constructor(){super()}position(){this._core.position()}attributeChangedCallback(t,i,e){switch(t){case s.observedAttributes.ANCHOR:this.anchor=e;break;case s.observedAttributes.NO_ANCHOR:this.noAnchor=w(e);break;case s.observedAttributes.OPEN:this.open=w(e);break;case s.observedAttributes.INLINE:this.inline=w(e);break;case s.observedAttributes.PLACEMENT:this.placement=e;break;case s.observedAttributes.POSITION_STRATEGY:this.positionStrategy=e;break;case s.observedAttributes.HIDE:this.hide=e;break;case s.observedAttributes.PERSISTENT:this.persistent=w(e);break;case s.observedAttributes.SHIFT:e===""||e?.trim()==="true"?this.shift="auto":e==null||e?.trim()==="false"?this.shift="never":this.shift=e;break;case s.observedAttributes.FLIP:this.flip=e;break;case s.observedAttributes.BOUNDARY:this.boundary=e;break;case s.observedAttributes.FALLBACK_PLACEMENTS:this.fallbackPlacements=e?.trim()?tt(e):null;break}}}n([r()],a.prototype,"anchorElement",void 0);n([r()],a.prototype,"anchor",void 0);n([r()],a.prototype,"noAnchor",void 0);n([r()],a.prototype,"open",void 0);n([r()],a.prototype,"inline",void 0);n([r()],a.prototype,"placement",void 0);n([r()],a.prototype,"positionStrategy",void 0);n([r()],a.prototype,"offset",void 0);n([r()],a.prototype,"shift",void 0);n([r()],a.prototype,"hide",void 0);n([r()],a.prototype,"persistent",void 0);n([r()],a.prototype,"flip",void 0);n([r()],a.prototype,"boundary",void 0);n([r()],a.prototype,"boundaryElement",void 0);n([r()],a.prototype,"fallbackPlacements",void 0);/**
 * @license
 * Copyright Tyler Technologies, Inc. 
 * License: Apache-2.0
 */var R;const dt='<template><div class="forge-overlay" part="root"><slot></slot></div></template>',_t=":host{display:contents}:host([hidden]){display:none}.forge-overlay{--_overlay-position:var(--forge-overlay-position, fixed);--_overlay-z-index:var(--forge-overlay-z-index, var(--forge-z-index-popup, 10));--_overlay-height:var(--forge-overlay-height, fit-content);--_overlay-width:var(--forge-overlay-width, fit-content);--_overlay-position-inline-start:var(--forge-overlay-position-inline-start, auto);--_overlay-position-inline-end:var(--forge-overlay-position-inline-end, auto);--_overlay-position-block-start:var(--forge-overlay-position-block-start, auto);--_overlay-position-block-end:var(--forge-overlay-position-block-end, auto)}.forge-overlay{display:none;box-sizing:border-box;height:var(--_overlay-height);width:var(--_overlay-width);border-radius:inherit;position:var(--_overlay-position);top:0;left:0;z-index:var(--_overlay-z-index);background:inherit;color:inherit}:host([position-strategy=absolute]) .forge-overlay{--_overlay-position:var(--forge-overlay-position, absolute)}:host([open][inline]) .forge-overlay{display:block;padding:0;margin:0;border:none;overflow:visible;inset:unset}:host([open]) .forge-overlay:popover-open{display:block;padding:0;margin:0;border:none;overflow:visible;inset:unset}:host([open][no-anchor]) .forge-overlay:popover-open{inset:0;margin:auto;margin-inline-start:var(--_overlay-position-inline-start);margin-inline-end:var(--_overlay-position-inline-end);margin-block-start:var(--_overlay-position-block-start);margin-block-end:var(--_overlay-position-block-end)}";let p=class extends a{static get observedAttributes(){return Object.values(s.observedAttributes)}constructor(){super(),z(this,dt,_t),this._core=new ct(new lt(this))}connectedCallback(){this._core.initialize()}disconnectedCallback(){this._core.destroy()}};R=b;p[R]=new Set;n([r()],p.prototype,"arrowElement",void 0);n([r()],p.prototype,"arrowElementOffset",void 0);p=n([G({name:s.elementName})],p);/**
 * @license
 * Copyright Tyler Technologies, Inc. 
 * License: Apache-2.0
 */const mt=500;function vt(h=class{}){class t extends h{constructor(){super(...arguments),this._longpressStartListener=this._onLongpressStart.bind(this),this._longpressEndListener=this._onLongpressEnd.bind(this),this._longpressContextMenuListener=this._onLongpressContextMenu.bind(this),this._longpressClickPrevent=this._onLongpressClickPrevent.bind(this),this._longpressDelay=mt}_startLongpressListener(e){const o=O?"pointerdown":"touchstart";e.addEventListener(o,this._longpressStartListener)}_stopLongpressListener(e){const o=O?"pointerdown":"touchstart";e.removeEventListener(o,this._longpressStartListener),this._unlistenLongpressEnd(e)}_onLongpressStart(e){e.target.setPointerCapture(e.pointerId),this._listenLongpressEnd(e.target),this._longpressTimeout=window.setTimeout(()=>{this._onLongpress(),O||navigator.vibrate(1),e.target.addEventListener("click",this._longpressClickPrevent,{capture:!0,once:!0})},this._longpressDelay)}_onLongpressClickPrevent(e){e.stopPropagation()}_onLongpressEnd(e){this._clearTimeout(),this._unlistenLongpressEnd(e.target)}_onLongpressContextMenu(e){this._clearTimeout(),e.target.removeEventListener("click",this._longpressClickPrevent,{capture:!0}),this._unlistenLongpressEnd(e.target)}_listenLongpressEnd(e){O?(e.addEventListener("pointerup",this._longpressEndListener),e.addEventListener("pointercancel",this._longpressEndListener),e.addEventListener("contextmenu",this._longpressContextMenuListener)):e.addEventListener("touchend",this._longpressEndListener)}_unlistenLongpressEnd(e){O?(e.removeEventListener("pointerup",this._longpressEndListener),e.removeEventListener("pointercancel",this._longpressEndListener),e.removeEventListener("contextmenu",this._longpressContextMenuListener)):e.removeEventListener("touchend",this._longpressEndListener)}_clearTimeout(){window.clearTimeout(this._longpressTimeout),this._longpressTimeout=void 0}}return t}export{s as O,P as V,vt as W,p as a};
